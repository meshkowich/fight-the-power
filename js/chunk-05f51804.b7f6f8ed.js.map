{"version":3,"sources":["webpack:///./src/views/Fight.vue?1b79","webpack:///./src/components/game.vue?325d","webpack:///src/components/game.vue","webpack:///./src/components/game.vue?e6f3","webpack:///./src/components/game.vue","webpack:///src/views/Fight.vue","webpack:///./src/views/Fight.vue?5a29","webpack:///./src/views/Fight.vue","webpack:///./src/components/game.vue?2870","webpack:///./src/assets/pilot.png"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","staticRenderFns","gamevue_type_template_id_22a6aae2_render","attrs","id","width","height","gamevue_type_template_id_22a6aae2_staticRenderFns","gamevue_type_script_lang_js_","mounted","initGame","shipSize","thrustSpeed","friction","roidsNum","roidsSpd","roidsSize","roidsVert","canvas","document","getElementById","ctx","getContext","ship","x","y","r","a","Math","PI","rot","thrusting","thrust","roids","createAsteroidBelt","addEventListener","keyDown","keyUp","pilotImg","Image","i","floor","random","distBetweenPoints","push","newAsteroid","x1","y1","x2","y2","sqrt","pow","ev","keyCode","roid","xv","yv","vert","update","fillStyle","fillRect","cos","sin","strokeStyle","lineWidth","beginPath","moveTo","lineTo","closePath","stroke","length","j","requestAnimationFrame","src","__webpack_require__","components_gamevue_type_script_lang_js_","component","Object","componentNormalizer","game","Fightvue_type_script_lang_js_","name","components","game-element","views_Fightvue_type_script_lang_js_","Fight_component","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_game_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_game_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","n","module","exports","p"],"mappings":"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","file":"js/chunk-05f51804.b7f6f8ed.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"fight\"},[_c('game-element')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('canvas',{attrs:{\"id\":\"gameCanvas\",\"width\":\"700\",\"height\":\"500\"}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <canvas id=\"gameCanvas\" width=\"700\" height=\"500\" ></canvas>  \n</template>\n\n<script>\nexport default {\n  mounted() {\n    initGame();\n  }\n}\nfunction initGame() {\n  const shipSize = 30; // height in px\n  const turnSpeed = 360; //deg per second\n  const thrustSpeed = 0.05; //accelleration\n  const friction = 0.03; //slow down\n  const roidsNum = 5; //starting number of asteroids\n  const roidsSpd = 1; //starting speed\n  const roidsSize = 100; // starting size in px\n  const roidsVert = 8; // avg number of vertices on each asteroid\n  var canvas = document.getElementById('gameCanvas');\n  var ctx = canvas.getContext('2d');\n  var ship = {\n    x: canvas.width / 2,\n    y: canvas.height / 2,\n    r: shipSize / 1,\n    a: 90 / 180 * Math.PI, // convert to radians\n    rot: 0,\n    thrusting: false,\n    thrust: {x:0, y:0}\n  };\n  //asteroids\n  var roids = [];\n  createAsteroidBelt();\n\n  //event handlers\n  document.addEventListener('keydown', keyDown);\n  document.addEventListener('keyup', keyUp);\n  //image\n  var pilotImg = new Image();\n  pilotImg.src = require(`@/assets/pilot.png`);\n\n  function createAsteroidBelt() {\n    roids = [];\n    var x, y;\n    for (let i=0; i<roidsNum; i++ ) {\n      do {\n        x = Math.floor(Math.random() * canvas.width);\n        y = Math.floor(Math.random() * canvas.height);\n      } while (distBetweenPoints(ship.x, ship.y, x, y) < roidsSize * 2 + ship.r);      \n        roids.push(newAsteroid(x,y));\n      }   \n  }\n  function distBetweenPoints(x1, y1, x2, y2) {\n    return Math.sqrt(Math.pow(x2 - x1, 2) + Math.pow(y2 - y1, 2));\n  }\n\n  function keyDown( /** @type {keyboardEvent}*/ ev) {\n    switch(ev.keyCode) {\n      case 37: //left arrow\n      case 65: //a\n        ship.rot = -0.1;\n        break;\n      case 39: //right arrow\n      case 68: //d\n        ship.rot = 0.1;\n        break;\n      case 38: //up\n      case 87: //w\n        ship.thrusting = true\n        break;\n    }\n  }\n  function keyUp( /** @type {keyboardEvent}*/ ev) {    \n    switch(ev.keyCode) {\n      case 37: //stop rotate\n      case 65:\n        ship.rot = 0;\n        break;\n      case 39: //stop rotate\n      case 68:\n        ship.rot = 0;\n        break;\n      case 38: //up arrow\n      case 87:\n        ship.thrusting = false;\n        break;\n    }\n  }\n  function newAsteroid(x,y) {\n    var roid = {\n      x: x,\n      y: y,\n      xv: Math.random() * roidsSpd * (Math.random() < 0.5 ? 1 : -1),\n      yv: Math.random() * roidsSpd * (Math.random() < 0.5 ? 1 : -1),\n      r: roidsSize / 2,\n      a: Math.random() * Math.PI * 2, //in radians\n      vert: Math.floor(Math.random() * (roidsVert + 1) + roidsVert / 2)\n    };\n    return roid;\n  }\n  requestAnimationFrame(update);\n  function update() {\n    // draw space\n    ctx.fillStyle = \"black\";\n    ctx.fillRect(0, 0, canvas.width, canvas.height);\n    //thrust the ship\n    if (ship.thrusting) {\n      ship.thrust.x += thrustSpeed * Math.cos(ship.a);\n      ship.thrust.y -= thrustSpeed * Math.sin(ship.a);  \n    } else {\n      ship.thrust.x -= friction * ship.thrust.x;\n      ship.thrust.y -= friction * ship.thrust.y;\n    }\n    // draw the triangular ship\n    ctx.strokeStyle = \"white\";\n    ctx.lineWidth = shipSize / 20;\n    ctx.beginPath();\n    ctx.moveTo( // nose of the ship\n        ship.x + 4 / 3 * ship.r * Math.cos(ship.a),\n        ship.y - 4 / 3 * ship.r * Math.sin(ship.a)\n    );\n    ctx.lineTo( // rear left\n        ship.x - ship.r * (2 / 3 * Math.cos(ship.a) + Math.sin(ship.a)),\n        ship.y + ship.r * (2 / 3 * Math.sin(ship.a) - Math.cos(ship.a))\n    );\n    ctx.lineTo( // rear right\n        ship.x - ship.r * (2 / 3 * Math.cos(ship.a) - Math.sin(ship.a)),\n        ship.y + ship.r * (2 / 3 * Math.sin(ship.a) + Math.cos(ship.a))\n    );\n    ctx.closePath();\n    ctx.stroke();\n    // draw the asteroids\n    ctx.strokeStyle = 'slategray';\n    ctx.lineWidth = shipSize / 20;\n    var x,y,r,a,vert;\n    for (let i=0; i < roids.length; i++) {\n      //get asteroid properties\n      x = roids[i].x;\n      y = roids[i].y;\n      r = roids[i].r;\n      a = roids[i].a;\n      vert = roids[i].vert;\n      //draw a path\n      ctx.beginPath();\n      ctx.moveTo(\n        x + r * Math.cos(a),\n        y + r * Math.sin(a)\n      );\n      //draw the polygon\n      for (let j=0; j < vert; j++) {\n        ctx.lineTo(\n          x + r * Math.cos(a + j * Math.PI * 2 / vert),\n          y + r * Math.sin(a + j * Math.PI * 2 / vert)\n        );\n      }\n      ctx.closePath();\n      ctx.stroke();\n      //move the  asteroid\n      roids[i].x += roids[i].xv;\n      roids[i].y += roids[i].yv;\n      //handle edge of screen\n      if (roids[i].x < 0 - roids[i].r) {\n        roids[i].x = canvas.width + roids[i].r;\n      } else if (roids[i].x > canvas.width + roids[i].r) {\n        roids[i].x = 0 - roids[i].r\n      }\n      if (roids[i].y < 0 - roids[i].r) {\n        roids[i].y = canvas.height + roids[i].r;\n      } else if (roids[i].y > canvas.height + roids[i].r) {\n        roids[i].y = 0 - roids[i].r\n      }\n    }\n    //rotate ship\n    ship.a += ship.rot;\n    //move ship\n    ship.x += ship.thrust.x;\n    ship.y += ship.thrust.y;\n    //handle edge of screen\n    if (ship.x < 0 - ship.r) {\n      ship.x = canvas.width + ship.r;\n    } else if (ship.x > canvas.width + ship.r) {\n      ship.x = 0 - ship.r;\n    }\n    if (ship.y < 0 - ship.r) {\n      ship.y = canvas.height + ship.r;\n    } else if (ship.y > canvas.height + ship.r) {\n      ship.y = 0 - ship.r;\n    }\n    // centre dot (optional)\n    ctx.fillStyle = \"red\";\n    ctx.fillRect(ship.x - 1, ship.y - 1, 2, 2);\n    //update\n    requestAnimationFrame(update);\n  }\n}\n\n</script>\n<style>\n#gameCanvas {\n  background-color: beige;\n}\n</style>\n\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./game.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./game.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./game.vue?vue&type=template&id=22a6aae2&\"\nimport script from \"./game.vue?vue&type=script&lang=js&\"\nexport * from \"./game.vue?vue&type=script&lang=js&\"\nimport style0 from \"./game.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"fight\">\n    <game-element/>\n  </div>\n</template>\n<script>\nimport game from '../components/game.vue'\nexport default {\n  name: 'fight',\n  components: {\n    'game-element': game\n  }\n}\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Fight.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Fight.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Fight.vue?vue&type=template&id=377dc034&\"\nimport script from \"./Fight.vue?vue&type=script&lang=js&\"\nexport * from \"./Fight.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./game.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./game.vue?vue&type=style&index=0&lang=css&\"","module.exports = __webpack_public_path__ + \"img/pilot.8043aa58.png\";"],"sourceRoot":""}